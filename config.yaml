name: "RTL-HAOS"
description: "RTL-SDR to Home Assistant MQTT bridge with signal diagnostics and system monitoring"
version: "1.1.1"
slug: rtl-haos
url: "https://github.com/jaronmcd/rtl-haos"
arch:
  - amd64
  - aarch64
  - armv7
init: false
usb: true
uart: true
startup: services
boot: auto
options:
  mqtt_host: core-mosquitto
  mqtt_port: 1883
  mqtt_user: ""
  mqtt_pass: ""
  bridge_id: "42"                   
  bridge_name: "rtl-haos-bridge"
  rtl_expire_after: 600
  rtl_throttle_interval: 30
  debug_raw_json: false
  rtl_show_timestamps: false
  verbose_transmissions: false  # <--- ADDED DEFAULT VALUE
  
  # --- DELETED GLOBAL DEFAULTS ---
  # rtl_default_freq, rtl_default_hop_interval, rtl_default_rate are gone.
  # Users must now use rtl_config below to change these.
  
  # --- Advanced Radio Configuration ---
  rtl_config: []

  # --- Device Filtering ---
  # Define specific Devices or ID Numbers to allow or disallow
  # Example:
  # - "Acurite 5n1*"
  # - "*8675*"
  device_blacklist:
    - "SimpliSafe*"
    - "EezTire*"
  device_whitelist: []

schema:
  mqtt_host: str
  mqtt_port: port
  mqtt_user: str
  mqtt_pass: password
  bridge_id: str
  bridge_name: str
  rtl_expire_after: int
  rtl_throttle_interval: int
  debug_raw_json: bool
  rtl_show_timestamps: bool
  verbose_transmissions: bool   # <--- ADDED DATA TYPE

  # --- DELETED GLOBAL SCHEMA ---
  # The UI will no longer show the 3 text boxes for defaults.

  rtl_config:
      - name: str
        freq: str
        id: str?
        rate: str?
        hop_interval: int?

  device_blacklist:
    - str
  device_whitelist:
    - str
services:
  - mqtt:want
map:
  - config